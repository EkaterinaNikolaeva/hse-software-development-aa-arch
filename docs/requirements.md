# Требования к программному продукту

## Требования к библиотеке

### Функциональные требования

1. В библиотеке реализованы алгоритмы решения задачи RSQ: наивная реализация, дерево отрезков (сверху и снизу), дерево Фенвика, декартово дерево, ABL-дерево, B-дерево, корневая декомпозиция

2. Каждый из реализованных алгоритмов поддерживает:
    * Вычисление суммы элементов на отрезке $[l, r]$
    * Обновление значения элемента массива

### Нефункциональные требования

1. Асимптотическое время работы запросов изменения значения элемента в точке, получения суммы элементов на отрезке массива для дерева отрезков, дерева Фенвика, декартова дерева, ABL-дерева, B-дерева $\mathcal{O}(\log n)$

2. Асимптотическое время работы наивной реализации решения задачи RSQ для запроса изменения элемента $\mathcal{O}(1)$, для запроса суммы на отрезке $[l, r]$ $\mathcal{O}(r - l)$

3. Поддержка обработки краевых случаев (пустой массив, массив длины 1, запросы за пределами массива, правая граница левее левой)

4. Реализовано простое и удобное API с четкой документацией

5. Библиотека является header-only, может быть использована путем включения заголовочных файлов

6. Корректность вычислений гарантируется, если сумма всех элементов на любом отрезке не превышает диапазон значений типа `int`

### Требование к интерфейсу

1. Библиотека реализована в виде классов на C++ с соблюдением четырех принципов ООП

2. Реализован конструктор от std::vector

3. Поддерживаются методы `void Update(int index, int value)` для присвоения $i$-му элементу массива в 0-нумерации значения $value$; `int Query(int left, int right)` для получения суммы на отрезке с $l$-го по $r$-й элемент включительно в 0-нумерации

### Требования к тестированию

1. Наличие Unit-тестов:

* Проверка корректности вычислений

* Проверка обработки краевых случаев, в случае некорректных данных выбрасывается исключение

* Используется фреймворк GTest для написания unit-тестов
